{% extends 'base.html.twig' %}

{% block title %}Liste des catégories
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row">

			<main class="col-9 border border-white p-2">

				<h1>
					Liste des utilisateurs
				</h1>
				<table class="table">
					<thead>

						<tr>
							<th>ID</th>
							<th>Nom</th>
							<th>Prénom</th>
							<th>Email</th>
							<th>Rôles</th>
							<th>Vérifié</th>
							<th>Actions</th>

						</tr>
					</thead>
				</thead>
				<tbody>
					{% for user in users %}
						<tr>
							<td>{{user.id}}</td>
							<td>{{user.nom}}</td>
							<td>{{user.prenom}}</td>

							<td>{{user.email}}</td>
							<td>
								{% for role in user.roles %}
									{% if role == "ROLE_ADMIN" %}
										{% set nom = "Administrateur" %}
										{% set color = "warning" %}
									{% else %}
										{% set nom = "membre" %}
										{% set color = "success" %}

									{% endif %}
									<span class="badge bg-{{ color }}">{{nom}}</span>


								{% endfor %}
							</td>
							<td>
								<div class="form-check form-switch">
									<input class="form-check-input" type="checkbox" role="switch" 
									id="switch{{ user.id }}" {{user.isVerified ? "checked" : "" }} disabled>
									<label class="form-check-label" for="switch{{ user.id }}"></label>
								</div>


							</td>
							<td>
								<a href="#" class="btn btn-danger">Modifier
								</a>
							</td>
						</tr>
					{% endfor %}
				</tbody>


			</main>


		</div>


	</div>


{% endblock %}